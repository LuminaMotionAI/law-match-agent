# ⚖️ 한국 법률 매칭 에이전트 (Korean Law Match Agent)

AI 기반 한국 법률 판례 검색 및 사건 분석 도구입니다. 피해자가 겪고 있는 사건과 유사한 법률 판례, 형량, 적용 법률, 위자료 수준을 자동으로 수집/요약/분석하고, 현재 사건과 매칭시켜주는 서비스입니다.

## 🌟 라이브 데모

- **Streamlit 클라우드**: [https://law-match-agent.streamlit.app](https://law-match-agent.streamlit.app)
- **로컬 실행**: `streamlit run app.py`

## 🚀 주요 기능

### 📄 사건 분석
- **자동 사건 분석**: 사건 내용에서 범죄 유형, 적용 법령, 핵심 사실 자동 추출
- **파일 업로드**: PDF, DOCX, TXT 파일 업로드 지원
- **키워드 추출**: 판례 검색에 최적화된 키워드 자동 생성
- **복잡도 분석**: 사건의 법적 복잡도 평가

### 🔍 판례 검색
- **키워드 검색**: 자유로운 키워드로 판례 검색
- **사건 기반 검색**: 분석된 사건을 기반으로 자동 판례 검색
- **범죄 유형별 검색**: 범죄 유형에 따른 체계적 검색
- **유사도 분석**: AI 기반 사건-판례 유사도 계산

### 📊 종합 분석
- **형량 예측**: 유사 판례 기반 형량 예측
- **법리 분석**: 적용 가능한 법령과 조문 분석
- **위자료 예측**: 유사 사건 기반 위자료 수준 예측
- **종합 리포트**: 분석 결과를 체계적으로 정리한 리포트 생성

### 🤖 AI 기능
- **자연어 처리**: 한국어 법률 문서 전문 분석
- **유사도 계산**: 의미적 유사도 기반 판례 매칭
- **요약**: 복잡한 판례를 핵심 내용으로 요약
- **예측**: 머신러닝 기반 형량 및 결과 예측

## 🛠️ 설치 및 설정

### 1. 환경 요구사항
- Python 3.8 이상
- Windows 10/11 (PowerShell 지원)
- 최소 4GB RAM 권장
- 인터넷 연결 (API 호출용)

### 2. 설치 방법

```bash
# 저장소 클론 (이미 다운로드된 경우 생략)
git clone https://github.com/your-username/law-match-agent.git
cd law-match-agent

# 가상환경 생성 (권장)
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # macOS/Linux

# 의존성 설치
pip install -r requirements.txt
```

### 3. 환경 변수 설정

프로젝트 루트 디렉토리에 `.env` 파일을 생성하고 다음 내용을 추가하세요:

```env
# OpenAI API 키 (필수)
OPENAI_API_KEY=your_openai_api_key_here

# 법령 정보 API 키 (선택사항)
LAWINFO_API_KEY=your_lawinfo_api_key_here

# 대법원 API 키 (선택사항)
SCOURT_API_KEY=your_supreme_court_api_key_here
```

### 4. API 키 발급 방법

#### OpenAI API 키 (필수)
1. [OpenAI 웹사이트](https://openai.com/api/)에 접속
2. 계정 생성 또는 로그인
3. API 키 생성 및 복사
4. `.env` 파일에 `OPENAI_API_KEY`로 설정

#### 법령 정보 API 키 (선택사항)
1. [법령정보서비스](https://www.law.go.kr/DRF/index.do)에 접속
2. 회원가입 후 API 키 신청
3. 승인 후 API 키를 `.env` 파일에 설정

## 🚀 사용 방법

### 1. 애플리케이션 실행

```bash
streamlit run app.py
```

브라우저에서 `http://localhost:8501`에 접속하여 사용할 수 있습니다.

### 2. 기본 사용 흐름

1. **📄 사건 분석**
   - 사건 내용을 직접 입력하거나 파일 업로드
   - "사건 분석 실행" 버튼 클릭
   - 분석 결과 확인 (범죄 유형, 적용 법령, 예상 형량 등)

2. **🔍 판례 검색**
   - 키워드 검색 또는 사건 기반 검색 선택
   - 검색 실행 후 결과 확인
   - 각 판례의 유사도 및 AI 요약 확인

3. **📊 종합 리포트**
   - 사건 분석과 판례 검색 완료 후 접근
   - "종합 리포트 생성" 버튼 클릭
   - 형량 예측, 법적 조언, 위자료 정보 확인
   - 리포트 다운로드

### 3. 파일 업로드 지원 형식

- **TXT**: 일반 텍스트 파일
- **PDF**: PDF 문서 (텍스트 추출 가능한 것)
- **DOCX**: Microsoft Word 문서

### 4. 사용 팁

- **정확한 분석을 위해**: 사건 내용을 가능한 상세히 입력하세요
- **키워드 최적화**: 법률 용어를 포함한 키워드 사용 권장
- **여러 검색 시도**: 다양한 키워드로 검색하여 더 많은 판례 확인
- **결과 검증**: AI 분석 결과는 참고용이므로 전문가 상담 권장

## 📁 프로젝트 구조

```
law-match-agent/
├── app.py                 # 메인 Streamlit 애플리케이션
├── config.py             # 설정 관리
├── requirements.txt      # Python 의존성
├── README.md            # 프로젝트 문서
├── api/                 # API 연동 모듈
│   ├── __init__.py
│   ├── law_api.py       # 법령 정보 API
│   └── openai_api.py    # OpenAI API
├── utils/               # 유틸리티 함수
│   ├── __init__.py
│   ├── file_processor.py # 파일 처리
│   └── text_analyzer.py  # 텍스트 분석
├── models/              # 데이터 모델
└── uploads/             # 업로드 파일 임시 저장소
```

## 🔧 고급 설정

### 1. 모델 설정 변경

`config.py` 파일에서 다음 설정을 변경할 수 있습니다:

```python
# OpenAI 모델 설정
OPENAI_MODEL = "gpt-4"          # gpt-4, gpt-3.5-turbo, gpt-4-turbo
MAX_TOKENS = 4000               # 최대 토큰 수
TEMPERATURE = 0.7               # 창의성 수준 (0.0-1.0)

# 검색 설정
MAX_SEARCH_RESULTS = 10         # 최대 검색 결과 수
SIMILARITY_THRESHOLD = 0.7      # 유사도 임계값

# 파일 업로드 설정
MAX_FILE_SIZE = 10 * 1024 * 1024  # 최대 파일 크기 (10MB)
```

### 2. 데이터베이스 연동 (향후 업데이트)

현재는 세션 기반 데이터 저장을 사용하지만, 향후 다음과 같은 데이터베이스 연동을 지원할 예정입니다:

- SQLite (로컬 데이터베이스)
- PostgreSQL (서버 데이터베이스)
- 벡터 데이터베이스 (판례 임베딩 저장)

## 🚨 주의사항

### 법적 고지사항
- 본 도구는 **참고용**으로만 사용하시기 바랍니다
- 실제 법적 문제는 **전문 변호사**와 상담하시기 바랍니다
- AI 분석 결과는 **100% 정확하지 않을 수 있습니다**
- 최종 판단은 **전문가의 검토**를 받으시기 바랍니다

### 개인정보 보호
- 민감한 개인정보는 입력하지 마세요
- 업로드된 파일은 분석 후 자동 삭제됩니다
- API 키는 안전하게 관리하세요

### 성능 최적화
- 대용량 파일 업로드는 시간이 오래 걸릴 수 있습니다
- 네트워크 연결 상태를 확인하세요
- API 사용량 제한을 확인하세요

## 🛠️ 문제 해결

### 자주 발생하는 오류

1. **API 키 오류**
   ```
   OpenAI API 키가 설정되지 않았습니다.
   ```
   → `.env` 파일에 올바른 API 키를 설정하세요

2. **모듈 import 오류**
   ```
   ModuleNotFoundError: No module named 'streamlit'
   ```
   → `pip install -r requirements.txt` 실행

3. **파일 업로드 오류**
   ```
   파일 크기가 너무 큽니다.
   ```
   → 파일 크기를 10MB 이하로 줄이거나 설정을 변경하세요

4. **모델 로딩 오류**
   ```
   sentence-transformers 모델 로딩 실패
   ```
   → 인터넷 연결을 확인하고 재시도하세요

### 로그 확인
- 터미널에서 실행 로그를 확인하세요
- 오류 메시지를 자세히 읽어보세요
- 필요시 `config.py`에서 디버그 모드를 활성화하세요

## 📞 지원 및 기여

### 문의사항
- 이슈 발생 시 GitHub Issues에 등록해주세요
- 개선 제안은 언제든 환영합니다

### 기여 방법
1. 저장소를 Fork하세요
2. 기능 브랜치를 생성하세요 (`git checkout -b feature/새기능`)
3. 변경사항을 커밋하세요 (`git commit -am '새 기능 추가'`)
4. 브랜치에 Push하세요 (`git push origin feature/새기능`)
5. Pull Request를 생성하세요

### 라이선스
이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🔮 향후 계획

### v2.0 업데이트 예정
- [ ] 더 많은 법률 데이터베이스 연동
- [ ] 실시간 판례 업데이트
- [ ] 챗봇 인터페이스 추가
- [ ] 모바일 앱 지원
- [ ] 다국어 지원

### v1.1 업데이트 예정
- [ ] 사용자 계정 시스템
- [ ] 검색 기록 저장
- [ ] 북마크 기능
- [ ] 리포트 템플릿 다양화

---

**⚠️ 면책 조항**: 이 도구는 정보 제공 목적으로만 사용되며, 법적 조언을 대체하지 않습니다. 실제 법적 문제에 대해서는 반드시 전문 변호사와 상담하시기 바랍니다. 